{% extends 'metadata_editor/workflow_editor.html' %}
{% load static %}

{# Registration-specific editor scripts #}
{% block registration_scripts %}
{% include 'register_with_support/registration_scripts.html' %}
{{ api_specification_validation_url|json_script:'api-specification-validation-url' }}
<script src="{% static 'register_with_support/workflow_editor_registration_setup.js' %}" type="module"></script>
{% endblock registration_scripts %}

{# OpenAPI editor section #}
{% block open_api_section %}
<hr class="my-5">
<section id="api-interaction-method-section">
    <div class="row gy-4">
        <div class="col-lg-12">
            <h2 class="mb-0">Link to an OpenAPI Specification</h2>
        </div>
        <div class="col-xl-9 col-lg-12">
            {% with field=form.api_specification_url %}
            {% include 'metadata_editor/components/form_field_template.html' %}
            {% endwith %}
            {% include 'register/components/open_api_specification_url_validation_subsection.html' %}
        </div>
        <div class="col-xl-9 col-lg-12">
            {% with field=form.api_description %}
            {% include 'metadata_editor/components/form_field_template.html' %}
            {% endwith %}
        </div>
    </div>
</section>
{% endblock open_api_section %}

{# TOC link to OpenAPI wizard section #}
{% block open_api_toc_list_item %}
<li class="list-group-item">
    <a href="#api-interaction-method-section">
        Link to an OpenAPI Specification
    </a>
</li>
{% endblock open_api_toc_list_item %}